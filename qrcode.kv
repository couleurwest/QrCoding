<BlocText>:
    rows: 3
    cols: 1
    padding: 20, 100, 20, 0
    ScrollView:
        do_scroll_x: False
        do_scroll_y: True
        size_hint: 1,0.8
        Label:
            id: btxt
            text: 'test'
            markup: True
            size_hint_y: None
            height: self.texture_size[1]
            text_size: self.width, None

<FormLabel@Label>:
    font_size: '14sp'
    size_hint: 1, None
    text_size: root.width, None
    size: self.texture_size
    halign: 'left'
<FormTInput>:
    canvas.before:
        Color:
            rgba: (1,1,1,1)
        Rectangle:
            size: (self.width, self.height+2)
            pos: (self.x , self.y)
        Color:
            rgba:((2/255), (198/255), (201/255),0.6) if self.focus else( (1,1,1, 0.9) if self.error == False else  (1,0,1, 0.9))
        Line:
            width: 2
            rectangle: self.x+2, self.y,self.width-4,0
        Color:
            rgba: (1,1,1,0.5)
        Rectangle:
            size: (self.width, self.height)
            pos: (self.x , self.y)
        Color:
            rgba : (56/255, 138/255, 115/255, 0.8) if self.focus else (30/255,70/255,90/255,1)
    font_size: '14sp'
    size_hint: 1, None
    height: self.minimum_height
    multiline: False
    write_tab: False

<InfoInput@TextInput>:
    canvas.before:
        Color:
            rgba: 0.5,0.0,0.5,1
    border: 0, 0, 0, 0
    background_color: 1,1,1,0.6
    font_size: '14sp'
    size_hint: 1, None
    height: self.minimum_height
    multiline: False
    write_tab: False
<FormButton@Button>:
    canvas.before:
        Color:
            rgba : (1,1,1,0.5)
        Rectangle:
            size: (self.width, self.height)
            pos: (self.x , self.y)
        Color:
            rgba: ( (2/255), (150/255), (170/255), 0.9)
    background_color:(0.1,0.2,0.3, 0.5)
    font_size: '16sp'
    size_hint: None,None
    size: (150, 30)
    border: 10,10,10,10


<GridForm@GridLayout>:
    rows:2
    padding: 10,5
    spacing: 10,0
    size_hint: (1, None)
    height: 70
    pos_hint : {'center_x':.5, 'center_y':.5}
<QRCoder>:
    padding: 0,0,0,0
    spacing: 0
    margin:0,0,0,0
    canvas.before:
        Color:
            rgba: 1,1,1,1
        Rectangle:
            pos: self.pos
            size: self.size
            source: ".src/bg.jpg"
        Color:
            rgba: 0.5,0.0,0.5,1
        Line:
            points: root.width,root.height, 0, root.height
            width: 5
        Color:
            rgba: 1,1,1,1
    GridLayout:
        rows: 3
        cols: 1
        size_hint: 1, 1
        GridLayout:
            cols: 3
            rows: 1
            padding: 5,1,1,1
            size_hint: (1, None)
            height: 80
            GridLayout
                cols: 1
                rows: 1
                padding: 0,0,0,0
                size_hint: (.1, None)
                Image:
                    source: '.src/qrcode.png'
                    size: self.texture_size
                    size_hint: 0.1, 1
                    allow_stretch: True
            Label:
                font_size: '20sp'
                color: .4,0,.4
                text: "COULEURWEST-IT.COM | QRCoder"
                size_hint: 0.8, 1
                height: 50
            GridLayout
                cols: 1
                rows: 1
                padding: 0,3,0,0
                size_hint: (.1, None)

                Button:
                    canvas.before:
                        Color:
                            rgba : (.7,0,0.7,0)
                        Rectangle:
                            size: (self.width+2, self.height+2)
                            pos: (self.x , self.y)
                    background_color: 1,1,1,0.3
                    color: .4,0,.4
                    text: "X"
                    size_hint: 0.1, .1
                    pos_hint: {"x": root.width, 'y':0}
                    on_press: root.closeapp()
        GridLayout:
            cols:1
            rows: 6
            padding: 20,20,20,20
            spacing: 0

            GridForm:
                cols: 2
                FormLabel:
                    text: 'Nom'
                FormLabel:
                    text: 'Prénom'
                FormTInput:
                    id: name
                    hint_text: 'Nom'
                    text: root.name
                FormTInput:
                    id: surname
                    hint_text: 'Prenom'
                    text: root.surname
            GridForm:
                FormLabel:
                    text: 'Entreprise'
                FormTInput:
                    id: corp
                    text: root.corp
                    hint_text: 'Nom de votre entreprise (Optionnel)'
            GridForm:
                cols: 2
                FormLabel:
                    text: 'Téléphone 1'
                FormLabel:
                    text: 'Téléphone 1'
                FormTInput:
                    id: phone_1
                    text: root.phone_1
                    hint_text: '+594 ...'
                FormTInput:
                    id: phone_2
                    text: root.phone_2
                    hint_text: '+594 ...'
            GridForm:
                FormLabel:
                    text: 'Adresse électronique'
                FormTInput:
                    id: email
                    hint_text: 'email'
            GridForm:
                FormLabel:
                    text: 'Site internet'
                FormTInput:
                    id: url
                    hint_text: 'https://'
            GridForm:
                rows:1
                cols:3
                center: 0.5, 0.5
                size_hint: 1, None
                width: 300
                FormButton:
                    text: 'VCard QRCode'
                    on_press: root.generate_vcard()
                    size_hint_x: 0.45
                FormButton:
                    text: 'URL QRCode'
                    on_press: root.generate_url()
                    size_hint_x: .45
                FormButton:
                    background_color: 1,0,1,1
                    color: 0.8,0.7,.5,1
                    text: 'i'
                    on_press: root.generate_url()
                    size_hint_x: 0.1
                    on_press: root.open_info()
        InfoInput:
            id: tracker
            text: root.tracker
            disabled: True
            halign: 'center'
